############################################################
####################### WARNING!!!  ########################
############################################################
# ONLY CHANGE THESE VALUES IF YOU KNOW WHAT YOU ARE DOING!
# SETTING WRONG VALUES (especially for the current controller)
# MIGHT DAMAGE YOUR HARDWARE PERMANENTLY! THERE ARE !!NO!!
# SAFETY CHECKS FOR THESE (as that would be rather pointless)
# PLEASE CONSULT AVAILABLE DOCUMENTATION AND ONLY CHANGE THESE
# VALUES IN SMALL INCREMENTS!!!
#
# There exist multiple hardware controller versions for the hand.
# If you change any values here, make sure you change them for
# the correct hardware version. The hardware controller version
# is printed during startup with the line similar to
#    [ INFO] [1490175467.120086310]: Hand hardware controller version:  1.2
# In this case major_version 1 and minor_version 2
#
############################################################
####################### WARNING!!!  ########################
############################################################

## Position controller Values (in order):
# The position controller evaluates the position difference to generate a current target for the
# cascaded current controller. The error signal is generated in ticks. The controlled unit is [mA]
# Reference signal minimum value
# -> Minimum allowed position input [encoder Ticks]
# Reference signal maximum value
# -> Maximum allowed position input [encoder Ticks]
# Reference signal delta maximum threshold
# -> Maximum Allowed tick difference -> Max Speed of the finger in [Ticks]
# Measurement scaling
# -> Feedback Scaling. Set to 1 to work in Ticks (should not be changed)
# Time base of controller
# -> Time base of the Position controller (should not be changed)
# Integral windup minimum value
# -> Maximum allowed value for the integrator [mA*Tick/S]
# Integral windup maximum value
# -> Minimum allowed value for the integrator [mA*Tick/S]
# Proportional gain
# Integral gain
# Differential gain
##
## Current controller values (in order):
# The current controller uses the current control values generated by the position controller
# to generate a pwm signal for the driver units. The Error signal is calculated in [mA] the
# controlled unit are duty cycles
# Reference signal minimum value
# -> Reference is generated by position controller.  Minimum allowed current value [mA]
# Reference signal maximum value
# -> Reference is generated by position controller.  Maximum allowed current value [mA]
# measurement scaling
# -> Feedback scaling. Do not change to work in [mA]
# time base of controller
# -> Should not be changed. The current controller needs to work faster than the position controller
# Integral windup minimum value
# -> Minimum allowed value for the integrator [1/(mA*s)]
# Integral windup maximum value
# -> Maximum allowed value for the integrator [1/(mA*s)]
# proportional gain
# Integral gain
# Output limiter min
# -> The output is the duty cycle of the driver units -> -255 - 0
# Output limiter max
# -> The output is the duty cycle of the driver units -> 0-255
##
## home settings (in order):
# Movement direction for reset (+1 or -1)
# Minimum allowed tick position (soft stop)
# Maximum allowed tick position (soft stop)
# idle position -> finger will drive there after reset
# Rad range -> angle in rad that the finger is able to move (used for conversion)
# Reset Current Factor -> 0.0 - 1.0 allowed. Indicates how much of the total allowed controller current must be reached to detect a hard stop (should usually be lower than 1.0)2
#
### Note: Pay Special attention to the output limits as well as the refernce signal min and max value as these limit the
### overall current that is applied to the motors

VERSIONS_PARAMETERS: [
    parameter_set: {
        #default parameters!!!!
        major_version: 0,
        minor_version: 0,
        THUMB_FLEXION: {
            position_controller: [-1.0e+6, 1.0e+6,  65.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 400.0],
            current_controller : [-500.0, 500.0, 0.405, 4.0e-6, -25.0, 25.0, 0.6, 10, -255.0, 255.0],
            home_settings : [+1, -175.0e+3,  -5.0e+3, -15.0e+3, 0.97, 0.75],
        },
        THUMB_OPPOSITION: {
            position_controller: [-1.0e+6, 1.0e+6,  50.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 100.0],
            current_controller : [-500.0, 500.0, 0.405, 4.0e-6, -25.0, 25.0, 0.6, 10, -255.0, 255.0],
            home_settings : [+1, -105.0e+3,  -5.0e+3, -15.0e+3, 0.99, 0.75],
        },
        INDEX_FINGER_DISTAL: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 40.0],
            current_controller : [-300.0, 300.0, 0.405, 4.0e-6, -25.0, 25.0, 1, 10.0, -255.0, 255.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 1.33, 0.75],
        },
        INDEX_FINGER_PROXIMAL: {
            position_controller: [-1.0e+6, 1.0e+6,  40.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.8, 0.0, 1000.0],
            current_controller : [-350.0, 350.0, 0.405, 4.0e-6, -25.0, 25.0, 1, 10.0, -255.0, 255.0],
            home_settings : [-1,    2.0e+3,  42.0e+3,   8.0e+3, 0.8, 0.75],
        },
        MIDDLE_FINGER_DISTAL: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 10.0],
            current_controller : [-300.0, 300.0, 0.405, 4.0e-6, -25.0, 25.0, 1, 10.0, -255.0, 255.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 1.33, 0.75],
        },
        MIDDLE_FINGER_PROXIMAL: {
            position_controller: [-1.0e+6, 1.0e+6,  40.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.8, 0.0, 1000.0],
            current_controller : [-350.0, 350.0, 0.405, 4.0e-6, -25.0, 25.0, 1, 10.0, -255.0, 255.0],
            home_settings : [-1,    2.0e+3,  42.0e+3,   8.0e+3, 0.8, 0.75],
        },
        RING_FINGER: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 100.0],
            current_controller : [-300.0, 300.0, 0.405, 4.0e-6, -10, 10, 1, 25.0, -255.0, 255.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 0.98, 0.75],
        },
        PINKY: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 100.0],
            current_controller : [-300.0, 300.0, 0.405, 4.0e-6, -10, 10, 1, 25, -255.0, 255.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 0.98, 0.75],
        },
        FINGER_SPREAD: {
            position_controller: [-1.0e+6, 1.0e+6,  25.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 100.0],
            current_controller : [-500.0, 500.0, 0.405, 4.0e-6, -4.0, 4.0, 0.70, 60.0, -255.0, 255.0],
            home_settings : [+1,  -57.0e+3,  -2.0e+3,  -25.0e+3,0.58, 0.4],
        }
    },
    parameter_set: {
        major_version: 1,
        minor_version: 2,
        THUMB_FLEXION: {
            position_controller: [-1.0e+6, 1.0e+6,  65.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 400.0],
            current_controller : [-500.0, 500.0, 0.405, 4.0e-6, -25.0, 25.0, 0.6, 10, -255.0, 255.0],
            home_settings : [+1, -175.0e+3,  -5.0e+3, -15.0e+3, 0.97, 0.75],
        },
        THUMB_OPPOSITION: {
            position_controller: [-1.0e+6, 1.0e+6,  50.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 100.0],
            current_controller : [-500.0, 500.0, 0.405, 4.0e-6, -25.0, 25.0, 0.6, 10, -255.0, 255.0],
            home_settings : [+1, -105.0e+3,  -5.0e+3, -15.0e+3, 0.99, 0.75],
        },
        INDEX_FINGER_DISTAL: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 40.0],
            current_controller : [-300.0, 300.0, 0.405, 4.0e-6, -25.0, 25.0, 1, 10.0, -255.0, 255.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 1.33, 0.75],
        },
        INDEX_FINGER_PROXIMAL: {
            position_controller: [-1.0e+6, 1.0e+6,  40.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.8, 0.0, 1000.0],
            current_controller : [-350.0, 350.0, 0.405, 4.0e-6, -25.0, 25.0, 1, 10.0, -255.0, 255.0],
            home_settings : [-1,    2.0e+3,  42.0e+3,   8.0e+3, 0.8, 0.75],
        },
        MIDDLE_FINGER_DISTAL: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 10.0],
            current_controller : [-300.0, 300.0, 0.405, 4.0e-6, -25.0, 25.0, 1, 10.0, -255.0, 255.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 1.33, 0.75],
        },
        MIDDLE_FINGER_PROXIMAL: {
            position_controller: [-1.0e+6, 1.0e+6,  40.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.8, 0.0, 1000.0],
            current_controller : [-350.0, 350.0, 0.405, 4.0e-6, -25.0, 25.0, 1, 10.0, -255.0, 255.0],
            home_settings : [-1,    2.0e+3,  42.0e+3,   8.0e+3, 0.8, 0.75],
        },
        RING_FINGER: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 100.0],
            current_controller : [-300.0, 300.0, 0.405, 4.0e-6, -10, 10, 1, 25.0, -255.0, 255.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 0.98, 0.75],
        },
        PINKY: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 100.0],
            current_controller : [-300.0, 300.0, 0.405, 4.0e-6, -10, 10, 1, 25, -255.0, 255.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 0.98, 0.75],
        },
        FINGER_SPREAD: {
            position_controller: [-1.0e+6, 1.0e+6,  25.0e+3, 1.00, 1.0e-3, -500.0, 500.0, 0.5, 0.0, 100.0],
            current_controller : [-500.0, 500.0, 0.405, 4.0e-6, -4.0, 4.0, 0.70, 60.0, -255.0, 255.0],
            home_settings : [+1,  -57.0e+3,  -2.0e+3,  -25.0e+3,0.58, 0.4],
        }
    },
    parameter_set: {
        major_version: 2,
        minor_version: 1,
        THUMB_FLEXION: {
            position_controller: [-1.0e+6, 1.0e+6,  65.0e+3, 1.00, 1.0e-3, -2000.0, 2000.0, 0.6, 0.1, 2000.0],
            current_controller : [-605.0, 605.0, 0.405, 10.0e-6, -0.125, 0.125, 0.0 , 1984, -248.0, 248.0],
            home_settings : [+1, -175.0e+3,  -5.0e+3, -15.0e+3, 0.97, 0.75],
        },
        THUMB_OPPOSITION: {
            position_controller: [-1.0e+6, 1.0e+6,  50.0e+3, 1.00, 1.0e-3, -2000.0, 2000.0, 0.6, 0.1, 2000.0],
            current_controller : [-605.0, 605.0, 0.405, 10.0e-6, -0.125 , 0.125, 0, 1984, -248.0, 248.0],
            home_settings : [+1, -105.0e+3,  -5.0e+3, -15.0e+3, 0.99, 0.75],
        },
        INDEX_FINGER_DISTAL: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -1000.0, 1000.0, 0.4, 0.36, 2400],
            current_controller : [-360.0, 360.0, 0.405, 10.0e-6, -0.125, 0.125, 0, 1984, -248.0, 248.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 1.33, 0.75],
        },
        INDEX_FINGER_PROXIMAL: {
            position_controller: [-1.0e+6, 1.0e+6,  40.0e+3, 1.00, 1.0e-3, -2000.0, 2000.0, 0.2, 0.17, 1600],
            current_controller : [-688.0, 688.0, 0.405, 10.0e-6, -0.125 , 0.125 , 0, 1984, -248.0, 248.0],
            home_settings : [-1,    2.0e+3,  42.0e+3,   8.0e+3, 0.8, 0.75],
        },
        MIDDLE_FINGER_DISTAL: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -1000.0, 1000.0, 0.4, 0.36, 2400],
            current_controller : [-360.0, 360.0, 0.405, 10.0e-6, -0.125, 0.125, 0, 1984, -248.0, 248.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 1.33, 0.75],
        },
        MIDDLE_FINGER_PROXIMAL: {
            position_controller: [-1.0e+6, 1.0e+6,  40.0e+3, 1.00, 1.0e-3, -2000.0, 2000.0, 0.2, 0.17, 1600],
            current_controller : [-350.0, 350.0, 0.405, 10.0e-6, -0.125 , 0.125 , 0, 1984, -248.0, 248.0],
            home_settings : [-1,    2.0e+3,  42.0e+3,   8.0e+3, 0.8, 0.75],
        },
        RING_FINGER: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -1000.0, 1000.0, 0.6, 0.0, 2500],
            current_controller : [-360.0, 360.0, 0.405, 10.0e-6, -0.125, 0.125, 0, 1984, -248.0, 248.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 0.98, 0.75],
        },
        PINKY: {
            position_controller: [-1.0e+6, 1.0e+6,  45.0e+3, 1.00, 1.0e-3, -1000.0, 1000.0, 0.6, 0.0, 2500],
            current_controller : [-360.0, 360.0, 0.405, 10.0e-6, -0.125, 0.125, 0, 1984, -248.0, 248.0],
            home_settings : [+1,  -47.0e+3,  -2.0e+3,  -8.0e+3, 0.98, 0.75],
        },
        FINGER_SPREAD: {
            position_controller: [-1.0e+6, 1.0e+6,  25.0e+3, 1.00, 1.0e-3, -1000.0, 1000.0, 1.0, 0.36, 4000],
            current_controller : [-500.0, 500.0, 0.405, 10.0e-6, -0.125 , 0.125 , 0, 1984, -248.0, 248.0],
            home_settings : [+1,  -57.0e+3,  -2.0e+3,  -25.0e+3,0.58, 0.4],
        }
    }
]
